{"version":3,"file":"cli.js","sources":["webpack://random-points-generator/./src/cli.ts"],"sourcesContent":["/* eslint no-console: \"off\" */\n\nimport fs from 'fs';\nimport util from 'util';\nimport yargs from 'yargs';\n\nimport { RandomGenerator } from './index';\n\ninterface ArgvOptions {\n  number: number;\n  format?: 'geojson' | 'csv';\n  export?: 'console' | 'file';\n  verbose?: boolean;\n  xmin?: number;\n  ymin?: number;\n  xmax?: number;\n  ymax?: number;\n  i?: string;\n  [key: string]: unknown;\n}\n\nexport type Options = {\n  number: number;\n  verbose?: boolean;\n  bbox?: [number, number, number, number];\n  features?: GeoJSON.FeatureCollection;\n  format?: 'geojson' | 'csv';\n  export?: 'console' | 'file';\n};\nconst options: Options = {\n  number: 10,\n};\n\nconst argv = yargs(process.argv.slice(2))\n  .usage(`Usage: random-points-generator [options]`)\n  .help('h')\n  .alias('help', 'h')\n  .alias('input', 'i')\n  .alias('number', 'n')\n  .alias('format', 'f')\n  .alias('export', 'e')\n  .alias('verbose', 'v')\n  .default('number', 10)\n  .default('verbose', false)\n  .example(\n    'random-points-generator',\n    'Generates 10 random coordinates, output to console in GeoJSON format'\n  )\n  .example(\n    'random-points-generator -n 1000 --xmin=-2 --xmax=4 --ymin=-45 --ymax=50',\n    'Generates 1000 random coordinates with these bounding box'\n  )\n  .example(\n    'random-points-generator -i world_countries.geojson',\n    'Generates 10 random coordinates within polygons from file world_countries.geojson'\n  )\n  .parseSync() as ArgvOptions;\n\noptions.number = argv.number;\noptions.format = argv.format;\noptions.export = argv.export;\noptions.verbose = argv.verbose;\n\nif (options.verbose) {\n  console.log(\n    'Running random-points-generator with',\n    util.inspect(argv, {\n      depth: null,\n    })\n  );\n}\nif (\n  argv.xmin !== undefined &&\n  argv.ymin !== undefined &&\n  argv.xmax !== undefined &&\n  argv.ymax !== undefined\n) {\n  options.bbox = [argv.xmin, argv.ymin, argv.xmax, argv.ymax];\n}\n\nif (argv.i) {\n  if (options.verbose) {\n    console.log(`file ${argv.i}`);\n  }\n  options.features = JSON.parse(\n    fs.readFileSync(argv.i, 'utf8')\n  ) as GeoJSON.FeatureCollection;\n}\n\nconst points = RandomGenerator.random(options.number, options);\n\nconsole.log(JSON.stringify(points));\n"],"names":["options","argv","yargs","process","console","util","undefined","JSON","fs","points","RandomGenerator"],"mappings":";;;;AA6BA,MAAMA,UAAmB;IACvB,QAAQ;AACV;AAEA,MAAMC,OAAOC,MAAMC,QAAQ,IAAI,CAAC,KAAK,CAAC,IACnC,KAAK,CAAC,4CACN,IAAI,CAAC,KACL,KAAK,CAAC,QAAQ,KACd,KAAK,CAAC,SAAS,KACf,KAAK,CAAC,UAAU,KAChB,KAAK,CAAC,UAAU,KAChB,KAAK,CAAC,UAAU,KAChB,KAAK,CAAC,WAAW,KACjB,OAAO,CAAC,UAAU,IAClB,OAAO,CAAC,WAAW,OACnB,OAAO,CACN,2BACA,wEAED,OAAO,CACN,2EACA,6DAED,OAAO,CACN,sDACA,qFAED,SAAS;AAEZH,QAAQ,MAAM,GAAGC,KAAK,MAAM;AAC5BD,QAAQ,MAAM,GAAGC,KAAK,MAAM;AAC5BD,QAAQ,MAAM,GAAGC,KAAK,MAAM;AAC5BD,QAAQ,OAAO,GAAGC,KAAK,OAAO;AAE9B,IAAID,QAAQ,OAAO,EACjBI,QAAQ,GAAG,CACT,wCACAC,KAAK,OAAO,CAACJ,MAAM;IACjB,OAAO;AACT;AAGJ,IACEA,AAAcK,WAAdL,KAAK,IAAI,IACTA,AAAcK,WAAdL,KAAK,IAAI,IACTA,AAAcK,WAAdL,KAAK,IAAI,IACTA,AAAcK,WAAdL,KAAK,IAAI,EAETD,QAAQ,IAAI,GAAG;IAACC,KAAK,IAAI;IAAEA,KAAK,IAAI;IAAEA,KAAK,IAAI;IAAEA,KAAK,IAAI;CAAC;AAG7D,IAAIA,KAAK,CAAC,EAAE;IACV,IAAID,QAAQ,OAAO,EACjBI,QAAQ,GAAG,CAAC,CAAC,KAAK,EAAEH,KAAK,CAAC,EAAE;IAE9BD,QAAQ,QAAQ,GAAGO,KAAK,KAAK,CAC3BC,GAAG,YAAY,CAACP,KAAK,CAAC,EAAE;AAE5B;AAEA,MAAMQ,SAASC,gBAAgB,MAAM,CAACV,QAAQ,MAAM,EAAEA;AAEtDI,QAAQ,GAAG,CAACG,KAAK,SAAS,CAACE"}